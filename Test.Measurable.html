<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Measurable</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/agda/agda-stdlib-classes/tree/master///Test/Measurable.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a>
<a id="29" class="Keyword">module</a> <a id="36" href="Test.Measurable.html" class="Module">Test.Measurable</a> <a id="52" class="Keyword">where</a>

<a id="59" class="Keyword">open</a> <a id="64" class="Keyword">import</a> <a id="71" href="Class.Prelude.html" class="Module">Class.Prelude</a>
<a id="85" class="Keyword">open</a> <a id="90" href="Class.Prelude.html#928" class="Module">Nat</a>
<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Class.Measurable.html" class="Module">Class.Measurable</a>

<a id="124" class="Keyword">instance</a> <a id="133" href="Test.Measurable.html#133" class="Function">_</a> <a id="135" class="Symbol">=</a> <a id="137" href="Class.Measurable.html#869" class="Function">Measurable-List₁</a>

<a id="155" class="Comment">-- ** make sure we can differentiate between ∣ [] ∣ and ∣ [ [] ] ∣</a>

<a id="∣xs∣&gt;0"></a><a id="223" href="Test.Measurable.html#223" class="Function">∣xs∣&gt;0</a> <a id="230" class="Symbol">:</a> <a id="232" class="Symbol">∀</a> <a id="234" class="Symbol">⦃</a> <a id="236" href="Test.Measurable.html#236" class="Bound">_</a> <a id="238" class="Symbol">:</a> <a id="240" href="Class.Measurable.html#115" class="Record">Measurable</a> <a id="251" href="Class.Prelude.html#3075" class="Generalizable">A</a> <a id="253" class="Symbol">⦄</a> <a id="255" class="Symbol">(</a><a id="256" href="Test.Measurable.html#256" class="Bound">xs</a> <a id="259" class="Symbol">:</a> <a id="261" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="266" href="Class.Prelude.html#3075" class="Generalizable">A</a><a id="267" class="Symbol">)</a> <a id="269" class="Symbol">→</a>
  <a id="273" href="Class.Measurable.html#166" class="Field Operator">∣</a> <a id="275" href="Test.Measurable.html#256" class="Bound">xs</a> <a id="278" href="Class.Measurable.html#166" class="Field Operator">∣</a> <a id="280" href="Data.Nat.Base.html#2295" class="Function Operator">&gt;</a> <a id="282" class="Number">0</a>
<a id="284" href="Test.Measurable.html#223" class="Function">∣xs∣&gt;0</a> <a id="291" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="294" class="Symbol">=</a> <a id="296" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="300" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>
<a id="304" href="Test.Measurable.html#223" class="Function">∣xs∣&gt;0</a> <a id="311" class="Symbol">(</a><a id="312" href="Test.Measurable.html#312" class="Bound">x</a> <a id="314" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="316" href="Test.Measurable.html#316" class="Bound">xs</a><a id="318" class="Symbol">)</a> <a id="320" class="Keyword">with</a> <a id="325" href="Class.Measurable.html#166" class="Field Operator">∣</a> <a id="327" href="Test.Measurable.html#312" class="Bound">x</a> <a id="329" href="Class.Measurable.html#166" class="Field Operator">∣</a>
<a id="331" class="Symbol">...</a> <a id="335" class="Symbol">|</a> <a id="337" class="Number">0</a>     <a id="343" class="Symbol">=</a> <a id="345" href="Test.Measurable.html#223" class="Function">∣xs∣&gt;0</a> <a id="352" class="Bound">xs</a>
<a id="355" class="Symbol">...</a> <a id="359" class="Symbol">|</a> <a id="361" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="365" class="Symbol">_</a> <a id="367" class="Symbol">=</a> <a id="369" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="373" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>

<a id="≺ᵐ-∷"></a><a id="378" href="Test.Measurable.html#378" class="Function">≺ᵐ-∷</a> <a id="383" class="Symbol">:</a> <a id="385" class="Symbol">⦃</a> <a id="387" href="Test.Measurable.html#387" class="Bound">_</a> <a id="389" class="Symbol">:</a> <a id="391" href="Class.Measurable.html#115" class="Record">Measurable</a> <a id="402" href="Class.Prelude.html#3075" class="Generalizable">A</a> <a id="404" class="Symbol">⦄</a> <a id="406" class="Symbol">(</a><a id="407" href="Test.Measurable.html#407" class="Bound">x</a> <a id="409" class="Symbol">:</a> <a id="411" href="Class.Prelude.html#3075" class="Generalizable">A</a><a id="412" class="Symbol">)</a> <a id="414" class="Symbol">(</a><a id="415" href="Test.Measurable.html#415" class="Bound">xs</a> <a id="418" class="Symbol">:</a> <a id="420" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="425" href="Class.Prelude.html#3075" class="Generalizable">A</a><a id="426" class="Symbol">)</a> <a id="428" class="Symbol">→</a>
  <a id="432" href="Test.Measurable.html#407" class="Bound">x</a> <a id="434" href="Class.Measurable.html#1849" class="Function Operator">≺ᵐ</a> <a id="437" class="Symbol">(</a><a id="438" href="Test.Measurable.html#407" class="Bound">x</a> <a id="440" class="InductiveConstructor Operator">∷</a> <a id="442" href="Test.Measurable.html#415" class="Bound">xs</a><a id="444" class="Symbol">)</a>
<a id="446" href="Test.Measurable.html#378" class="Function">≺ᵐ-∷</a> <a id="451" href="Test.Measurable.html#451" class="Bound">x</a> <a id="453" href="Test.Measurable.html#453" class="Bound">xs</a> <a id="456" class="Symbol">=</a> <a id="458" href="Data.Nat.Properties.html#20640" class="Function">Nat.m&lt;m+n</a> <a id="468" href="Class.Measurable.html#166" class="Field Operator">∣</a> <a id="470" href="Test.Measurable.html#451" class="Bound">x</a> <a id="472" href="Class.Measurable.html#166" class="Field Operator">∣</a> <a id="474" class="Symbol">(</a><a id="475" href="Test.Measurable.html#223" class="Function">∣xs∣&gt;0</a> <a id="482" href="Test.Measurable.html#453" class="Bound">xs</a><a id="484" class="Symbol">)</a>

<a id="487" class="Comment">-- ** example well-founded recursion on naturals</a>
<a id="536" class="Comment">--</a>
<a id="539" class="Comment">-- NB: termination fails if the recursive argument is not structurally smaller, e.g.</a>
<a id="624" class="Comment">--</a>
<a id="627" class="Comment">-- binSearch : ℕ → ℕ</a>
<a id="648" class="Comment">-- binSearch 0 = 0</a>
<a id="667" class="Comment">-- binSearch n = f ⌊ n /2⌋</a>

<a id="binSearch"></a><a id="695" href="Test.Measurable.html#695" class="Function">binSearch</a> <a id="705" class="Symbol">:</a> <a id="707" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="709" class="Symbol">→</a> <a id="711" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="713" href="Test.Measurable.html#695" class="Function">binSearch</a> <a id="723" class="Symbol">=</a> <a id="725" href="Class.Measurable.html#1465" class="Function">≺-rec</a> <a id="731" class="Symbol">_</a> <a id="733" class="Symbol">λ</a> <a id="735" class="Keyword">where</a>
  <a id="743" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="751" class="Symbol">_</a> <a id="753" class="Symbol">→</a> <a id="755" class="Number">0</a>
  <a id="759" class="Symbol">(</a><a id="760" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="764" href="Test.Measurable.html#764" class="Bound">n</a><a id="765" class="Symbol">)</a> <a id="767" href="Test.Measurable.html#767" class="Bound">r</a> <a id="769" class="Symbol">→</a> <a id="771" href="Test.Measurable.html#767" class="Bound">r</a> <a id="773" class="Symbol">(</a><a id="774" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="778" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="780" href="Test.Measurable.html#800" class="Function">/2-less</a> <a id="788" href="Test.Measurable.html#764" class="Bound">n</a><a id="789" class="Symbol">)</a>
 <a id="792" class="Keyword">where</a>
  <a id="800" href="Test.Measurable.html#800" class="Function">/2-less</a> <a id="808" class="Symbol">:</a> <a id="810" class="Symbol">∀</a> <a id="812" href="Test.Measurable.html#812" class="Bound">n</a> <a id="814" class="Symbol">→</a> <a id="816" href="Data.Nat.Base.html#6364" class="Function Operator">⌊</a> <a id="818" href="Test.Measurable.html#812" class="Bound">n</a> <a id="820" href="Data.Nat.Base.html#6364" class="Function Operator">/2⌋</a> <a id="824" href="Data.Nat.Base.html#1697" class="Datatype Operator">≤</a> <a id="826" href="Test.Measurable.html#812" class="Bound">n</a>
  <a id="830" href="Test.Measurable.html#800" class="Function">/2-less</a> <a id="838" class="Symbol">=</a> <a id="840" class="Symbol">λ</a> <a id="842" class="Keyword">where</a>
    <a id="852" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>          <a id="866" class="Symbol">→</a> <a id="868" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>
    <a id="876" class="Symbol">(</a><a id="877" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="881" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="885" class="Symbol">)</a>    <a id="890" class="Symbol">→</a> <a id="892" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>
    <a id="900" class="Symbol">(</a><a id="901" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="905" class="Symbol">(</a><a id="906" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="910" href="Test.Measurable.html#910" class="Bound">n</a><a id="911" class="Symbol">))</a> <a id="914" class="Symbol">→</a> <a id="916" href="Data.Nat.Base.html#1762" class="InductiveConstructor">s≤s</a> <a id="920" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="922" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="930" class="Symbol">(</a><a id="931" href="Test.Measurable.html#800" class="Function">/2-less</a> <a id="939" href="Test.Measurable.html#910" class="Bound">n</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">(</a><a id="943" href="Data.Nat.Properties.html#8707" class="Function">n≤1+n</a> <a id="949" class="Symbol">_)</a>
</pre></body></html>